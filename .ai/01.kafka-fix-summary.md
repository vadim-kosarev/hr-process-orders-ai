# Kafka Configuration Fix - Summary

## Problem
Kafka контейнер не запускался с ошибкой:
```
port is deprecated. Please use KAFKA_ADVERTISED_LISTENERS instead.
```

## Root Cause
В конфигурации Kafka использовались устаревшие параметры, а также старые hostname'ы (просто `kafka` вместо `o-ai.kafka`).

## Changes Made

### 1. docker-compose.yml

#### Kafka Service
- Обновлен `KAFKA_ADVERTISED_LISTENERS`:
  - OLD: `INTERNAL://kafka:9092,EXTERNAL://localhost:29092`
  - NEW: `INTERNAL://o-ai.kafka:9092,EXTERNAL://localhost:29092`
  
- Обновлен `KAFKA_CONTROLLER_QUORUM_VOTERS`:
  - OLD: `1@kafka:9093`
  - NEW: `1@o-ai.kafka:9093`

#### Kafka-Init Service
- Обновлена команда для использования нового hostname:
  - OLD: `kafka-topics --bootstrap-server kafka:9092 ...`
  - NEW: `kafka-topics --bootstrap-server o-ai.kafka:9092 ...`

#### Kafka-UI Service
- Обновлен `KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS`:
  - OLD: `kafka:9092`
  - NEW: `o-ai.kafka:9092`

### 2. .env Files (.env.docker и .env.local)
- Уже обновлены в предыдущей операции с новыми hostname'ами

## Verification
Все параметры теперь согласованы:
- Container names и hostname'ы используют префикс `o-ai.`
- KAFKA_ADVERTISED_LISTENERS используется вместо deprecated параметров
- Все сервисы правильно ссылаются друг на друга через правильные hostname'ы

## Files Modified
1. `docker-compose.yml` - 3 блока (kafka, kafka-init, kafka-ui)
2. `.env.docker` - уже обновлен ранее
3. `.env.local` - уже обновлен ранее

