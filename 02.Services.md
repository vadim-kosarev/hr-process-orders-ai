# логика компонентов

## OrderService:
методы - createNewOrder, cancelOrder, getOrderStatus

## Доменные события:
- наследуются от OrderServiceEvent
- OrderCreatedEvent, OrderProcessingStartedEvent, OrderProcessingFailedEvent, OrderReadyEvent, OrderCancelledEvent
- публикуются в топик kafka order-events
- читаются из топика order-events и обрабатываются OrderEventHandler
- 
## Сервис OrderEventHandler:
- слушает топик order-events
- вызывает ответные методы в OrderService для обработки событий
- например, при OrderCreatedEvent может инициировать startProcessing() для заказа
- сообщения из топика, которые не удается обработать, логируются в ошибки через отдельный метод и ack-аются (пока не придумаю лучший способ обработки таких случаев)

## Команды (Commands):
- наследуются от OrderCommand
- CreateOrderCommand - команда на создание заказа с данными order
- публикуются в топик kafka order-commands
- читаются из топика order-commands и обрабатываются OrderCommandHandler
- сообщения из топика, которые не удается обработать, логируются в ошибки через отдельный метод и ack-аются (пока не придумаю лучший способ обработки таких случаев)

## Сервис OrderCommandHandler:
- слушает топик order-commands
- обрабатывает команды и вызывает соответствующие методы в OrderService
- например, при CreateOrderCommand вызывает createNewOrder() в OrderService
- сервис использует REDIS для хранения ID команд и их статусов (например, для обработки повторных попыток) - с TTL = 24 часа

## OrderRepository
- интерфейс для доступа к данным заказов
- методы - save(Order order), findById(UUID orderId), findAll()
- реализуется через JPA


# Задача:
- сгенерируй описанные классы имплементации (jpa, @Transactional, event listeners, kafka consumer, AppConfig)
- добавь логгинг работы и ошибок через slf4j
- добавь обработку команд (если еще не сделал) из топика order-commands:
  - базовый класс OrderCommand
  - CreateOrderCommand с данными заказа
  - OrderCommandHandler для обработки команд
- не нужно генерировать контроллеры и REST API, только сервисы, события, команды, репозитории и конфигурацию
